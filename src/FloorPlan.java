public class FloorPlan {
    private static final int    MAX_ROOMS = 12;

    private String          name;               // name of the floor plan
    private int             size;               // # of rows and columns in table
    private boolean[][]     walls;              // grid indicating whether a wall is there or not
    private Room[]          rooms;              // rooms defined in the floor plan
    private int             numRooms;           // number of rooms defined in the floor plan

    // yep, this is a constructor...it assumes that FloorPlans are always square in shape
    public FloorPlan(int rw, String n) {
        name = n;
        size = rw;
        walls = new boolean[size][size];
        rooms = new Room[MAX_ROOMS];
        numRooms = 0;

        // set the grid to have empty space inside, but walls around border
        for (int r = 0; r < size; r++)
            for (int c = 0; c < size; c++)
                if ((r == 0) || (r == size - 1) || (c == 0) || (c == size - 1))
                    walls[r][c] = true;
                else
                    walls[r][c] = false;
    }

    // some get/set methods
    public int size() { return size; }
    public String getName() { return name; }
    public int getNumberOfRooms() { return numRooms; }
    public Room[] getRooms() { return rooms; }
    public boolean wallAt(int r, int c) { return walls[r][c]; }
    public void setWallAt(int r, int c, boolean wall) { walls[r][c] = wall; }

    // return the room at this position, if this tile position belongs to that room
    public Room roomAt(int r, int c) {
        for (int i = 0; i < numRooms; i++) {
            if (rooms[i].contains(r, c))
                return rooms[i];
        }
        return null;
    }

    // return the room with the given color index, if there is one
    public Room roomWithColor(int index) {
        for (int i = 0; i < numRooms; i++) {
            if (rooms[i].getColorIndex() == index)
                return rooms[i];
        }
        return null;
    }

    // start a new room at the given location
    public Room addRoomAt(int r, int c) {
        if (numRooms < MAX_ROOMS) {
            Room room = new Room();
            rooms[numRooms++] = room;
            room.addTile(r, c);
            return room;
        }
        return null;
    }

    // remove a room from the floor plan (assumes the room index is valid)
    public void removeRoom(Room r) {
        // find out which room it is first
        for (int i = 0; i < numRooms; i++) {
            if (rooms[i] == r) {
                rooms[i] = rooms[numRooms - 1];
                rooms[numRooms - 1] = null;
                numRooms--;
                return;
            }
        }
    }

    // create and return an example of a FloorPlan object
    public static FloorPlan floor1() {
        FloorPlan fp = new FloorPlan(20, "Main Floor");

        int[][] tiles = {
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,1,1,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1},
                {1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};

        for (int r = 0; r < 20; r++)
            for (int c = 0; c < 20; c++)
                fp.setWallAt(r, c, tiles[r][c] == 1);

        return fp;
    }

    // create and return an example of a FloorPlan object
    public static FloorPlan floor2() {
        FloorPlan fp = new FloorPlan(20, "2nd Floor");

        int[][] tiles = {
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,1},
                {1,0,0,0,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1},
                {1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1},
                {1,1,1,1,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1},
                {1,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1},
                {1,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,1,1,1,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1},
                {1,0,0,0,1,0,1,1,0,1,1,1,1,1,0,1,0,0,0,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,1},
                {1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1},
                {1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,0,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};

        for (int r = 0; r < 20; r++)
            for (int c = 0; c < 20; c++)
                fp.setWallAt(r, c, tiles[r][c] == 1);

        return fp;
    }

    // create and return an example of a FloorPlan object
    public static FloorPlan floor3() {
        FloorPlan fp = new FloorPlan(20, "3rd Floor");

        int[][] tiles = {
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1},
                {1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,1,1,1,1,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1},
                {1,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};

        for (int r = 0; r < 20; r++)
            for (int c = 0; c < 20; c++)
                fp.setWallAt(r, c, tiles[r][c] == 1);

        return fp;
    }

    // create and return an example of a FloorPlan object
    public static FloorPlan floor4() {
        FloorPlan fp = new FloorPlan(20, "4th Floor");

        int[][] tiles = {
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1},
                {1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1},
                {1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};

        for (int r = 0; r < 20; r++)
            for (int c = 0; c < 20; c++)
                fp.setWallAt(r, c, tiles[r][c] == 1);

        return fp;
    }

    // create and return an example of a FloorPlan object
    public static FloorPlan floor5() {
        FloorPlan fp = new FloorPlan(20, "Basement");

        int[][] tiles = {
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};

        for (int r = 0; r < 20; r++)
            for (int c = 0; c < 20; c++)
                fp.setWallAt(r, c, tiles[r][c] == 1);

        return fp;
    }

    // create and return an example of a FloorPlan object
    public static FloorPlan floor6() {
        FloorPlan fp = new FloorPlan(20, "Attic");

        int[][] tiles = {
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};

        for (int r = 0; r < 20; r++)
            for (int c = 0; c < 20; c++)
                fp.setWallAt(r, c, tiles[r][c] == 1);

        return fp;
    }
}
